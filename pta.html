<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Paulo Flabiano Smorigo">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
		<title>Plain Text Accounting</title>
		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/league.css" id="theme">
		<link rel="stylesheet" href="lib/css/zenburn.css">
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
		<style>
			.reveal h1 {
				line-height: 0.9em;
			}
			.reveal .ledger {
				padding: 20px;
				background-color: black;
				color: white;
			}
			.reveal .subtitle {
				font-style: italic;
				font-size: 0.6em;
			}
			.reveal #covertext {
				font-style: italic;
				font-size: 0.5em;
			}
			.reveal #license a {
				color: white;
			}
			.reveal #config {
				padding-top: 30px;
				font-size: 14px;
				font-variant: small-caps;
			}
		</style>
	</head>

	<body>
		<div class="reveal">
			<div class="slides">
				<section data-background="images/pexels-photo-164686_2.jpeg">
					<h1>Plain Text Accounting</h1>
					<h2>Accounting for power users</h2>
					<div id="covertext">
						Paulo Flabiano Smorigo<br />
						pfsmorigo@{twitter, gmail, github, linkedin, ...}<br />
						<a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a><br />
						v1.0 - Nov 2017
					</div>
				</section>

				<section>
					<h2>Disclaimer</h2>
					<p>We are talking about using terminal and edit text files manually (with some helpers). If you are not confortable, or doesn't like it, maybe this is not suitable for you. At first sight, it might be stupid and not practical but you will be surprised on how the system works well.</p>
				</section>

				<section>
					<h2>What we're going to talk about?</h2>
					<ul>
						<li><span style="color: cyan; font-variant: small-caps">Part 1:</span> Double-entry &amp; account hierarchy</li>
						<li><span style="color: cyan; font-variant: small-caps">Part 2:</span> Plain Text Accounting</li>
						<li><span style="color: cyan; font-variant: small-caps">Part 3:</span> Hands-on with ledger-cli</li>
					</ul>
				</section>

				<section>
					<section>
						<h2 style="color: cyan">Part 1</h2>
						<p>Double-entry &amp; account hierarchy</p>
						<p class="subtitle">The boring part</p>
					</section>

					<section>
						<h2>Double-entry bookkeeping system</h2>
						<ul>
							<li>Values are transfered from one account to another</li>
							<li>All accounts must balance to zero (error check)</li>
						</ul>
					</section>

					<section>
						<h2>Spreadsheet</h2>
						<table>
							<thead>
								<tr>
									<th>Date</th>
									<th>Operation</th>
									<th>Value</th>
									<th>Balance</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>Sep 2</td>
									<td>Paycheck</td>
									<td>$1000</td>
									<td>$1000</td>
								</tr>
								<tr>
									<td>Sep 6</td>
									<td>Fuel</td>
									<td>$150</td>
									<td>$850</td>
								</tr>
								<tr>
									<td>Sep 6</td>
									<td>Groceries</td>
									<td>$300</td>
									<td>$550</td>
								</tr>
								<tr>
									<td>Sep 9</td>
									<td>Rent</td>
									<td>$500</td>
									<td>$50</td>
								</tr>
							</tbody>
						</table>
					</section>

					<section>
						<h2>Double-entry</h2>
						<table>
							<thead>
								<tr>
									<th>Date</th>
									<th>Operation</th>
									<th>From</th>
									<th>To</th>
									<th>Value</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>Sep 2</td>
									<td>Paycheck</td>
									<td>Company</td>
									<td>Bank</td>
									<td>$1000</td>
								</tr>
								<tr>
									<td>Sep 6</td>
									<td>Fuel</td>
									<td>Bank</td>
									<td>Auto</td>
									<td>$150</td>
								</tr>
								<tr>
									<td>Sep 6</td>
									<td>Groceries</td>
									<td>Bank</td>
									<td>Market</td>
									<td>$300</td>
								</tr>
								<tr>
									<td>Sep 9</td>
									<td>Rent</td>
									<td>Bank</td>
									<td>House</td>
									<td>$500</td>
								</tr>
							</tbody>
						</table>
					</section>


					<section>
						<h2>Double-entry</h2>
						<pre class="ledger">$ ledger -f examples/ex1.ledger register

    2017-09-02 Paycheck    Bank           $1000    $1000
                           Company       $-1000        0
    2017-09-06 Fuel        Fuel            $150     $150
                           Bank           $-150        0
    2017-09-06 Groceries   Market          $150     $150
                           Bank           $-150        0
    2017-09-06 Rent        House           $500     $500
                           Bank           $-500        0
						</pre>
					</section>

					<section>
						<h2>Must balance to zero</h2>
						<pre class="ledger">$ ledger -f examples/ex1.ledger balance

                    $200  Bank
                  $-1000  Company
                    $150  Fuel
                    $500  House
                    $150  Market
    --------------------
                       0
						</pre>
					</section>

					<section>
						<h2>American approach</h2>
						<ul>
							<li>Assets (bank accounts, meal ticket, ...)</li>
							<li>Equity (opening balances, car, house, ...)</li>
							<li>Liabilities (credit card, ...)</li>
							<li>Income (salary, ...)</li>
							<li>Expenses (expenses :P)</li>
						</ul>
					</section>

					<section>
						<h2>Accounts hierarchy</h2>
							<pre class="ledger" style="width:30%">
Assets
 ├── Checking
 ├── Savings
 └── Meal Ticket
Equity
 └── Opening Balances
Liabilities
 └── Credit Card
Income
 ├── Company
 └── Others
Expenses
 ├── Auto
 ├── Market
 └── House
						</pre>
					</section>

					<section>
						<h2>Must balance to zero (v2)</h2>
						<pre class="ledger">$ ledger -f examples/ex2.ledger balance

                    $200  Assets:Checking
                    $800  Expenses
                    $150    Auto
                    $500    House
                    $150    Market
                  $-1000  Income:Company
    --------------------
                       0
						</pre>
					</section>
				</section>

				<section>
					<section>
						<h2 style="color: cyan">Part 2</h2>
						<p>Plain Text Accounting</p>
						<p class="subtitle"><span class="fragment">Accounting</span><span class="fragment"> ...with text</span></p>
					</section>

					<section>
						<h2>History</h2>
						<ul>
							<li>In 2003, John Wiegley created Ledger</li>
							<li>The idea was welcomed by some technical folks</li>
							<li>5+ actively-developed Ledger-likes</li>
							<li>In 2016, <a href="http://plaintextaccounting.org/">plaintextaccounting.org</a></li>
						</ul>
					</section>

					<section>
						<h2>Ledger-likes</h2>
						<table>
							<thead>
								<tr>
									<th>Project</th>
									<th>Start</th>
									<th>Code</th>
									<th>Committers</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>ledger-cli</td>
									<td>2003</td>
									<td>C++</td>
									<td>112</td>
								</tr>
								<tr>
									<td>hledger</td>
									<td>2007</td>
									<td>Haskell</td>
									<td>67</td>
								</tr>
								<tr>
									<td>Beancount</td>
									<td>2008</td>
									<td>Python</td>
									<td>17</td>
								</tr>
							</tbody>
						</table>
					</section>

					<section>
						<h2>But why text?</h2>
						<ul>
							<li>It's valuable, be accessible for ever</li>
							<li class="fragment">... even without a specific software</li>
							<li class="fragment">Easy to edit, search and organize</li>
							<li class="fragment">... as long as you are good with text editing, and ...</li>
							<li class="fragment">... you can version-control it! Hello git!</li>
							<li class="fragment">Use your own security method (gpg, ecryptfs)</li>
						</ul>
					</section>

					<section>
						<h2>Editor support</h2>
						<ul>
							<li><a href="https://github.com/ledger/vim-ledger">vim-ledger</a> for Vim (recommended :P)</li>
							<li><a href="http://ledger-cli.org/3.0/doc/ledger-mode.html">ledger-mode</a> for Emacs</li>
							<li><a href="https://atom.io/packages/language-ledger">language-ledger</a> for Atom</li>
							<li>Also for Sublime, TextMate, VisualStudio...
						</ul>
					</section>

					<section>
						<h2>Basic</h2>
						<pre class="ledger">
&lt;Date&gt; &lt;Description&gt;
        &lt;Account:Sub-account&gt             &lt;Value&gt;
        &lt;Account:Sub-account&gt             &lt;Value&gt;</pre>
						<pre class="ledger fragment">
2017-09-02 Paycheck
        Assets:Checking                    $1000
        Income:Company                    $-1000</pre>
						<pre class="ledger fragment">
2017-09-02 Paycheck
        Assets:Checking                    $1000
        Income:Company</pre>
						<span class="fragment">Remember: balance to zero!</span>
					</section>

					<section>
						<h2>Multiple accounts</h2>
						<pre class="ledger">
2017-03-31 Paycheck
	Assets:Checking                       $1000
	Expenses:Taxes:Federal                 $200
	Expenses:Taxes:Syndicate                $50
	Expenses:Medical                       $150
	Income:Company
						</pre>
					</section>

					<section>
						<h2>Clear / Pending</h2>
						<pre class="ledger">
2017-09-02 * Paycheck
        Assets:Checking                    $1000
        Income:Company
						</pre>
						<pre class="ledger">
2017-09-02 ! Paycheck
        Assets:Checking                    $1000
        Income:Company
						</pre>
					</section>

					<section>
						<h2>Effective date</h2>
						<pre class="ledger">
2017-09-06=2017-09-09 Rent
	Expenses:House                      $500
	Assets:Checking
						</pre>
						<pre class="ledger">
2017-09-06 Groceries
	Expenses:Market                      $50  ; [=2017-10-10]
	Expenses:Market                      $50  ; [=2017-11-10]
	Expenses:Market                      $50  ; [=2017-12-10]
	Assets:Checking
						</pre>
					</section>

					<section>
						<h2>Commodities and Currencies</h2>
Cost per item
						<pre class="ledger">
2010-05-31 Market
	Assets:Fridge                35 apples @ $0.42
	Assets:Cash

2010-05-31 Market
	Assets:Fridge                35 apples {=$0.42}
	Assets:Cash</pre>
Total cost
						<pre class="ledger">
2010-05-31 Market
	Assets:Fridge                35 apples @@ $14.70
	Assets:Cash</pre>
					</section>

					<section>
						<h2>Metadata</h2>
						<pre class="ledger">
2012-03-10 * KFC
    Expenses:Food                $20.00
    Assets:Cash
      ; :TAG:

2012-03-10 * KFC
    Expenses:Food                $20.00
    Assets:Cash
      ; :TAG1:TAG2:TAG3:

2012-03-10 * KFC
    Expenses:Food                $20.00
    Assets:Cash
      ; MyTag: This is just a bogus value for MyTag
						</pre>
					</section>

					<section>
						<h2>Budgeting and Forecasting</h2>
						<pre class="ledger">
~ Monthly
    Expenses:Rent               $500.00
    Expenses:Food               $450.00
    Expenses:Auto:Gas           $120.00
    Expenses:Insurance          $150.00
    Expenses:Phone              $125.00
    Expenses:Utilities          $100.00
    Expenses:Movies              $50.00
    Expenses                    $200.00  ; all other expenses
    Assets

~ Yearly
    Expenses:Auto:Repair        $500.00
    Assets
						</pre>
					</section>

				</section>

				<section>
					<section>
						<h2 style="color: cyan">Part 3</h2>
						<p>Hands-on with ledger-cli</p>
						<p class="subtitle">Show me the code</p>
					</section>

					<section>
						<h2>Ledger-cli syntax</h2>
						<pre class="ledger">$ ledger [command] [options] [arguments]
         register  --file FILE (-f)
         balance   --begin DATE (-b)
         print     --end DATE (-e)
         ...       --period PERIOD (-p)
         stats     --effective
         xml       --market (-V)
         convert   --price-db FILE
         ...       --sort EXPR (-S)
                   ...
						</pre>
						Ledger will never alter your input file!
					</section>

					<section>
						<h2>Common commands</h2>
						<pre class="ledger">$ man ledger
...
   balance [report-query]
      Print a balance report showing totals for postings that
      match report-query, and aggregate totals for parents of
      those accounts.
...
   register [report-query]
      List all postings matching the report-query. This is one
      of the most common commands, and can be used to provide
      a variety of useful reports.
...
						</pre>

					</section>

					<section>
						<h2>Example</h2>
						<pre class="ledger">$ cat examples/ex2.ledger

2017-09-02 Paycheck
        Assets:Checking                    $1000
        Income:Company

2017-09-06 Fuel
        Expenses:Auto                       $150
        Assets:Checking

2017-09-06 Groceries
        Expenses:Market                     $150
        Assets:Checking

2017-09-06 Rent
        Expenses:House                      $500
        Assets:Checking
						</pre>
					</section>

					<section>
						<h2>Example: register</h2>
						<pre class="ledger">$ ledger -f examples/ex2.ledger reg checking

2017-09-02 Paycheck     Assets:Checking    $1000    $1000
2017-09-06 Fuel         Assets:Checking    $-150     $850
2017-09-06 Groceries    Assets:Checking    $-150     $700
2017-09-06 Rent         Assets:Checking    $-500     $200
						</pre>
					</section>

					<section>
						<h2>Example: balance</h2>
						<pre class="ledger">$ ledger -f examples/ex2.ledger bal

                $200  Assets:Checking
                $800  Expenses
                $150    Auto
                $500    House
                $150    Market
              $-1000  Income:Company
--------------------
                   0
						</pre>
					</section>

					<section>
						<h2>Another example</h2>
						<pre class="ledger">$ cat examples/ex3.ledger

2017-09-02 * Paycheck
	Assets:Checking                    $1000
	Income:Company

2017-09-06 * Fuel
	Expenses:Auto                 40 GAS @ $3.75
	Assets:Checking

2017-09-06 ! Groceries
	Expenses:Market                      $50  ; [=2017-10-10]
	Expenses:Market                      $50  ; [=2017-11-10]
	Expenses:Market                      $50  ; [=2017-12-10]
	Assets:Checking

2017-09-06=2017-09-09 Rent
	Expenses:House                      $500
	Assets:Checking
						</pre>
					</section>

					<section>
						<h2>Another example</h2>
						<pre class="ledger">$ ledger --file ex3.ledger --market --effective --sort date reg

2017-09-02 Paycheck     Assets:Checking     $1000    $1000
                        Income:Company     $-1000        0
2017-09-06 Fuel         Expenses:Auto        $150     $150
                        Assets:Checking     $-150        0
2017-09-06 Groceries    Assets:Checking     $-150    $-150
2017-09-09 Rent         Expenses:House       $500     $350
                        Assets:Checking     $-500    $-150
2017-10-10 Groceries    Expenses:Market       $50    $-100
2017-11-10 Groceries    Expenses:Market       $50     $-50
2017-12-10 Groceries    Expenses:Market       $50        0
						</pre>
					</section>

					<section>
						<h2>Scripting</h2>
						<ul>
							<li>Itau case. Let's go...</li>
						</ul>
					</section>
				</section>

				<section>
					<section>
						<h2>Links & References</h2>
						<ul>
							<li>This presentation<br /><a href="https://github.com/pfsmorigo/reveal.js/blob/pta/pta.pdf">https://github.com/pfsmorigo/reveal.js/blob/pta/pta.pdf</a></li>
							<li>Ledger: Command-Line Accounting<br /><a href="http://ledger-cli.org/3.0/doc/ledger3.html">http://ledger-cli.org/3.0/doc/ledger3.html</a></li>
							<li>Plain Text Accounting<br /><a href="http://plaintextaccounting.org/">http://plaintextaccounting.org/</a></li>
							<li>Ledger CLI cheatsheet<br /><a href="https://devhints.io/ledger">https://devhints.io/ledger</a></li>
					</section>
				</section>

				<section>
					<section>
						<h1>The End</h1>
						<p>Thanks! Questions?</p>
						<div id="config">
							<a href="?transition=none#/transitions">None</a> -
							<a href="?transition=fade#/transitions">Fade</a> -
							<a href="?transition=slide#/transitions">Slide</a> -
							<a href="?transition=convex#/transitions">Convex</a> -
							<a href="?transition=concave#/transitions">Concave</a> -
							<a href="?transition=zoom#/transitions">Zoom</a><br />
							<a href="#" onclick="document.getElementById('theme').setAttribute('href','css/theme/black.css'); return false;">Black</a> -
							<a href="#" onclick="document.getElementById('theme').setAttribute('href','css/theme/white.css'); return false;">White</a> -
							<a href="#" onclick="document.getElementById('theme').setAttribute('href','css/theme/league.css'); return false;">League</a> -
							<a href="#" onclick="document.getElementById('theme').setAttribute('href','css/theme/sky.css'); return false;">Sky</a> -
							<a href="#" onclick="document.getElementById('theme').setAttribute('href','css/theme/beige.css'); return false;">Beige</a> -
							<a href="#" onclick="document.getElementById('theme').setAttribute('href','css/theme/simple.css'); return false;">Simple</a> -
							<a href="#" onclick="document.getElementById('theme').setAttribute('href','css/theme/serif.css'); return false;">Serif</a> -
							<a href="#" onclick="document.getElementById('theme').setAttribute('href','css/theme/blood.css'); return false;">Blood</a> -
							<a href="#" onclick="document.getElementById('theme').setAttribute('href','css/theme/night.css'); return false;">Night</a> -
							<a href="#" onclick="document.getElementById('theme').setAttribute('href','css/theme/moon.css'); return false;">Moon</a> -
							<a href="#" onclick="document.getElementById('theme').setAttribute('href','css/theme/solarized.css'); return false;">Solarized</a>
						</div>
					</section>
				</section>

			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,
				slideNumber: 'c/t',
				transition: 'slide', // none/fade/slide/convex/concave/zoom
				transitionSpeed: 'fast', // default/fast/slow
				pdfMaxPagesPerSlide: 1,

				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
